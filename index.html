<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Orbis Tech Kids FM</title>

  <!-- Manifesto e Ícone -->
  <link rel="manifest" href="manifest.json">
  <link rel="icon" href="icon-192.png" type="image/png">
  <meta name="theme-color" content="#0077b6">

  <!-- Fontes -->
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <!-- Three.js para elementos 3D -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.min.js"></script>

  <!-- Registro do Service Worker -->
  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('service-worker.js')
        .then(() => console.log('Service Worker registrado com sucesso!'))
        .catch(error => console.log('Falha no registro do Service Worker:', error));
    }
  </script>

  <style>
    :root {
      --primary-blue: #0077b6;
      --secondary-green: #25d366;
      --background-white: #ffffff;
      --text-dark: #000000;
      --accent-green: #25d366;
      --neon-glow: #00ffbb;
      --title-color: #FFD700; /* Amarelo cor de sol para o título */
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      background: linear-gradient(to right, var(--primary-blue), var(--background-white), var(--secondary-green));
      color: var(--text-dark);
      font-family: 'Poppins', sans-serif;
      min-height: 100vh;
      overflow-x: hidden;
      position: relative;
      text-align: center;
      padding: 20px;
      transition: transform 0.5s ease-out;
    }

    body.slide-down {
      transform: translateY(100vh);
    }

    /* Efeito de partículas no fundo */
    #particles-js {
      position: fixed;
      width: 100%;
      height: 100%;
      z-index: -1;
      top: 0;
      left: 0;
    }

    /* Container principal */
    .container {
      max-width: 1200px;
      margin: 0 auto;
      position: relative;
      z-index: 1;
    }

    /* Cabeçalho */
    header {
      text-align: center;
      padding: 20px 0;
      margin-bottom: 30px;
    }

    .title {
      font-family: 'Orbitron', sans-serif;
      font-size: 3rem;
      font-weight: 900;
      margin-bottom: 10px;
      color: var(--title-color); /* Usando a nova cor */
      text-shadow: 0 0 10px rgba(255, 215, 0, 0.6), 0 0 20px rgba(255, 215, 0, 0.4);
    }

    .subtitle {
      font-size: 1.3rem;
      color: var(--primary-blue);
      margin-bottom: 20px;
    }

    /* Rádio com display */
    .radio-container {
      width: 320px;
      min-height: 280px;
      margin: 0 auto 30px;
      background: linear-gradient(135deg, #2c2c2c, #1a1a1a);
      border-radius: 15px;
      padding: 20px;
      position: relative;
      box-shadow: 0 10px 25px rgba(0,0,0,0.5);
      border: 4px solid #444;
    }

    .radio-display {
      width: 100%;
      height: 70px;
      background: linear-gradient(to bottom, #103b2f, #0a291f);
      border-radius: 10px;
      margin-bottom: 15px;
      display: flex;
      align-items: center;
      justify-content: center;
      border: 2px solid #00cc99;
      box-shadow: 0 0 15px rgba(0, 204, 153, 0.7);
      overflow: hidden;
      position: relative;
    }

    .display-text {
      font-family: 'Orbitron', sans-serif;
      font-size: 1.5rem;
      color: #00ffbb;
      text-shadow: 0 0 10px rgba(0, 255, 187, 0.7);
      letter-spacing: 2px;
      animation: scrollText 15s infinite linear;
      white-space: nowrap;
    }

    @keyframes scrollText {
      0% { transform: translateX(100%); }
      100% { transform: translateX(-100%); }
    }

    .radio-controls {
      display: flex;
      justify-content: center;
      gap: 15px;
    }

    .radio-btn {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      background: linear-gradient(135deg, #444, #222);
      border: 2px solid #555;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 1.2rem;
      cursor: pointer;
      box-shadow: 0 4px 8px rgba(0,0,0,0.3);
      transition: all 0.3s ease;
    }

    .radio-btn:hover {
      transform: scale(1.1);
      box-shadow: 0 0 15px var(--neon-glow);
    }

    .power-btn {
      background: linear-gradient(135deg, #2cc46b, #128c7e);
      border: 2px solid #1fae66;
      box-shadow: 0 0 10px rgba(31, 174, 102, 0.6);
    }

    /* Bloco de informações dentro do rádio */
    .weather-info-inside {
      margin-top: 15px;
      background: rgba(255, 255, 255, 0.06);
      border: 2px solid #00cc99;
      border-radius: 10px;
      padding: 10px;
      color: #00ffbb;
      font-size: 0.92rem;
      font-family: 'Poppins', sans-serif;
      text-shadow: 0 0 6px rgba(0,255,187,0.55);
      display: grid;
      gap: 4px;
    }
    .weather-row {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      flex-wrap: wrap;
    }

    /* Botão de ajuda com animação */
    .top-button {
      position: fixed;
      top: 20px;
      left: 20px;
      z-index: 1000;
    }

    .top-button button {
      background: rgba(255, 255, 255, 0.9);
      color: var(--primary-blue);
      border: 2px solid var(--primary-blue);
      padding: 10px 15px;
      border-radius: 30px;
      font-family: 'Poppins', sans-serif;
      font-size: 14px;
      cursor: pointer;
      box-shadow: 0 0 15px rgba(0, 119, 182, 0.5);
      transition: all 0.3s ease;
      animation: pulse 2s infinite;
    }

    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.05); }
      100% { transform: scale(1); }
    }

    .top-button button:hover {
      background: var(--primary-blue);
      color: white;
      box-shadow: 0 0 25px rgba(0, 119, 182, 0.8);
      animation: none;
    }

    /* Seções */
    .section {
      background: rgba(255, 255, 255, 0.9);
      border-radius: 15px;
      padding: 25px;
      margin: 25px 0;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
      text-align: left;
    }

    .section h2 {
      font-family: 'Orbitron', sans-serif;
      font-size: 1.8rem;
      margin-bottom: 15px;
      color: var(--primary-blue);
      text-shadow: 0 0 5px rgba(0, 119, 182, 0.3);
    }

    .section p {
      font-size: 1.1rem;
      line-height: 1.6;
      margin-bottom: 15px;
    }

    /* Botão do WhatsApp */
    .whatsapp-button {
      background: linear-gradient(90deg, var(--accent-green), #128C7E);
      color: white;
      padding: 15px 30px;
      border-radius: 50px;
      text-decoration: none;
      font-family: 'Poppins', sans-serif;
      font-size: 1.2rem;
      display: inline-block;
      margin-top: 20px;
      box-shadow: 0 5px 15px rgba(37, 211, 102, 0.5);
      transition: all 0.3s ease;
    }

    .whatsapp-button:hover {
      transform: scale(1.05);
      box-shadow: 0 0 25px rgba(37, 211, 102, 0.8);
    }

    /* Formulários */
    input, button {
      padding: 12px 20px;
      margin: 10px;
      font-size: 1rem;
      border-radius: 8px;
      border: 2px solid var(--primary-blue);
      background: rgba(255, 255, 255, 0.9);
      color: var(--text-dark);
      font-family: 'Poppins', sans-serif;
    }

    button {
      background: linear-gradient(90deg, var(--primary-blue), #005f8a);
      color: white;
      cursor: pointer;
      transition: all 0.3s ease;
      border: none;
    }

    button:hover {
      transform: scale(1.05);
      box-shadow: 0 0 15px rgba(0, 119, 182, 0.5);
    }

    /* Tabela */
    table {
      margin: 20px auto;
      border-collapse: collapse;
      width: 100%;
      max-width: 600px;
      background: rgba(255, 255, 255, 0.9);
      border-radius: 10px;
      overflow: hidden;
    }

    th, td {
      padding: 15px;
      border: 1px solid var(--primary-blue);
      text-align: left;
    }

    th {
      background: rgba(0, 119, 182, 0.2);
      color: var(--primary-blue);
      font-family: 'Poppins', sans-serif;
    }

    /* Modais */
    .modal {
      display: none;
      position: fixed;
      z-index: 1000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      overflow: auto;
      background-color: rgba(0, 0, 0, 0.8);
    }

    .modal-content {
      background: linear-gradient(135deg, #ffffff, #f0f0f0);
      margin: 5% auto;
      padding: 30px;
      border: 2px solid var(--primary-blue);
      width: 90%;
      max-width: 600px;
      border-radius: 15px;
      box-shadow: 0 0 30px rgba(0, 119, 182, 0.5);
      position: relative;
      animation: modalFadeIn 0.5s;
      color: var(--text-dark);
    }

    @keyframes modalFadeIn {
      from { opacity: 0; transform: translateY(-50px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .close {
      color: #aaa;
      float: right;
      font-size: 28px;
      font-weight: bold;
      cursor: pointer;
      transition: color 0.3s;
    }

    .close:hover {
      color: var(--primary-blue);
    }

    /* Rodapé */
    footer {
      margin-top: 50px;
      text-align: center;
      padding: 30px;
      font-size: 1rem;
      color: var(--primary-blue);
      background: rgba(255, 255, 255, 0.9);
      border-radius: 15px;
      border: 2px solid var(--primary-blue);
      box-shadow: 0 5px 15px rgba(0, 119, 182, 0.3);
    }

    /* Containers para elementos 3D */
    #wind-turbines-container {
      position: fixed;
      width: 100%;
      height: 100%;
      top: 0;
      left: 0;
      z-index: -1;
      pointer-events: none;
    }

    /* Elementos neon */
    .neon-text {
      color: var(--title-color);
      text-shadow:
        0 0 5px var(--title-color),
        0 0 10px var(--title-color),
        0 0 20px var(--title-color),
        0 0 40px var(--neon-glow),
        0 0 80px var(--neon-glow);
      animation: pulsate 2s infinite alternate;
    }

    @keyframes pulsate {
      100% {
        text-shadow: 
          0 0 5px #fff,
          0 0 10px #fff,
          0 0 15px #fff,
          0 0 20px var(--title-color),
          0 0 35px var(--title-color),
          0 0 40px var(--title-color);
      }
      0% {
        text-shadow: 
          0 0 2px #fff,
          0 0 5px #fff,
          0 0 10px var(--title-color),
          0 0 15px var(--title-color),
          0 0 20px var(--title-color);
      }
    }

    /* Responsividade */
    @media (max-width: 768px) {
      .title {
        font-size: 2.2rem;
      }
      
      .subtitle {
        font-size: 1.1rem;
      }
      
      .radio-container {
        width: 280px;
        min-height: 270px;
      }
      
      .display-text {
        font-size: 1.2rem;
      }
      
      .section {
        padding: 20px;
      }
      
      .top-button {
        top: 10px;
        left: 10px;
      }
    }
  </style>
</head>
<body>
  <!-- Partículas de fundo -->
  <div id="particles-js"></div>
  
  <!-- Container para torres eólicas 3D -->
  <div id="wind-turbines-container"></div>

  <div class="container">
    <!-- Botão de ajuda com animação -->
    <div class="top-button">
      <button onclick="ajudarProjeto()">Ajudar Projeto</button>
    </div>

    <header>
      <h1 class="title neon-text">📻 ORBIS TECH KIDS FM</h1>
      <p class="subtitle">Conectando sonhos de Xique e do Brasil ao mundo da tecnologia!</p>
    </header>

    <!-- Rádio com display -->
    <div class="radio-container">
      <div class="radio-display">
        <div class="display-text" id="radioDisplay">ORBIS TECH KIDS FM • 24/7 •</div>
      </div>
      <div class="radio-controls">
        <div class="radio-btn power-btn" onclick="toggleRadio()" id="powerBtn" title="Ligar/Desligar">
          <i class="fas fa-power-off"></i>
        </div>
        <div class="radio-btn" onclick="changeVolume(0.1)" title="Aumentar volume">
          <i class="fas fa-volume-up"></i>
        </div>
        <div class="radio-btn" onclick="changeVolume(-0.1)" title="Diminuir volume">
          <i class="fas fa-volume-down"></i>
        </div>
      </div>

      <!-- Informações dentro do rádio -->
      <div class="weather-info-inside" id="weatherBox">
        <div class="weather-row" id="location">📍 Localizando...</div>
        <div class="weather-row" id="weather">⛅ Carregando clima...</div>
        <div class="weather-row" id="time">🕒 --:--:--</div>
      </div>
    </div>

    <!-- Restante do conteúdo... -->
    <div class="section">
      <p>💚 Uma iniciativa que transforma vidas por meio do conhecimento, levando esperança e oportunidades às crianças ribeirinhas, sertanejas e de comunidades esquecidas por todo o Brasil. De Xique Xique para o país inteiro, um movimento de amor, educação e futuro!</p>
    </div>

    <div class="section">
      <h2>🔧 SUPORTE ESPECIALIZADO, PROBLEMA RESOLVIDO! 🚀</h2>
      <p>Seu canal sumiu? O app travou? 📡 Trabalhamos com todos os sistemas e sempre encontramos a solução!</p>
      <p>💬 Atendimento rápido e eficiente! Seu entretenimento SEM preocupações!</p>
      <p>👇📲 Me chama no WhatsApp!👇</p>
      <a class="whatsapp-button" href="https://wa.me/5574999140925" target="_blank">FALAR NO WHATSAPP</a>
    </div>

    <!-- Demais seções (IMC, Signo, etc.) -->
    <div class="section">
      <h2>🧮 CALCULADORA DE IMC</h2>
      <input type="text" id="peso" placeholder="Peso (kg)">
      <input type="text" id="altura" placeholder="Altura (cm)">
      <button onclick="calcularIMC()">CALCULAR IMC</button>
      <p id="resultadoIMC"></p>
    </div>

    <div class="section">
      <h2>📊 TABELA DE CLASSIFICAÇÃO DO IMC</h2>
      <table>
        <thead>
          <tr><th>IMC</th><th>CLASSIFICAÇÃO</th></tr>
        </thead>
        <tbody>
          <tr><td>Menor que 18,5</td><td>Abaixo do peso</td></tr>
          <tr><td>18,5 a 24,9</td><td>Peso normal</td></tr>
          <tr><td>25,0 a 29,9</td><td>Sobrepeso</td></tr>
          <tr><td>30,0 a 34,9</td><td>Obesidade grau 1</td></tr>
          <tr><td>35,0 a 39,9</td><td>Obesidade grau 2</td></tr>
          <tr><td>40,0 ou mais</td><td>Obesidade grau 3 (mórbida)</td></tr>
        </tbody>
      </table>
    </div>

    <div class="section">
      <h2>🔮 DESCOBRA SEU SIGNO</h2>
      <input type="date" id="dataNascimento">
      <button onclick="verificarSigno()">VER MEU SIGNO</button>
      <p id="resultadoSigno"></p>
    </div>

    <div class="section">
      <h2>🎙️ ACESSIBILIDADE: OUÇA ESTA PÁGINA</h2>
      <button id="botaoLeitura" onclick="lerPagina()">🔊 LER TUDO</button>
    </div>

    <div class="section">
      <h2>👤 DESENVOLVEDOR</h2>
      <button onclick="abrirModalBiografia()">VER BIOGRAFIA</button>
      <button onclick="abrirModalPix()">💖 AJUDAR O PROJETO</button>
    </div>

    <footer>
      🌟 Projeto idealizado por Rivonildo Azevedo – Um sonho movido pelo poder do conhecimento, construindo pontes de oportunidade para transformar o presente e inspirar o futuro da nossa gente!<br>
      © 2025 ORBIS TECH KIDS FM
    </footer>
  </div>

  <!-- Modais -->
  <div id="modalBiografia" class="modal">
    <div class="modal-content">
      <span class="close" onclick="fecharModal('modalBiografia')">&times;</span>
      <h2>SOBRE O DESENVOLVEDOR</h2>
      <p><strong>Rivonildo Azevedo</strong> é estudante de Tecnologia da Informação, apaixonado por TI e impacto social. Criador da Orbis Tech Kids FM, ele visa conectar crianças de comunidades ribeirinhas e sertanejas ao mundo do conhecimento e da inovação.</p>
    </div>
  </div>

  <div id="modalPix" class="modal">
    <div class="modal-content">
      <span class="close" onclick="fecharModal('modalPix')">&times;</span>
      <h2>AJUDE O PROJETO ORBIS TECH KIDS</h2>
      <p>Com sua contribuição, levaremos mais esperança, tecnologia e alegria às comunidades ribeirinhas e sertanejas!</p>

      <p><strong>Banco:</strong> Nubank (260)</p>
      <p><strong>Agência:</strong> 0001</p>
      <p><strong>Conta:</strong> 40280541-5</p>
      <p><strong>Titular:</strong> Rivonildo Azevedo</p>
      <p><strong>Chave PIX (código aleatório):</strong><br>dc0520f0-a2a6-4945-95fd-fc317b22671d</p>

      <p>📲 Após doar, envie o comprovante para o nosso WhatsApp:
        <a href="https://wa.me/5574999140925" target="_blank">Clique aqui para enviar</a>
      </p>

      <p>💬 E aproveite para pedir seu "alô personalizado" para seu(a) filho(a)! Escolha um personagem e nós mandamos um recado especial!</p>

      <p>🎉 Locutores personagens disponíveis para mandar alô: Peppa Pig, Shrek, Mickey, Pato Donald e muito mais! Fique à vontade para sugestões de músicas e, para melhorar nossa programação, seu feedback é importantíssimo.</p>
    </div>
  </div>

  <!-- Elemento de áudio (oculto) -->
  <audio id="radioPlayer" loop>
    <source src="https://radio.vml10.xyz/listen/orbis_kids_fm/radio.mp3" type="audio/mpeg">
  </audio>

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
  <script>
    // Inicializar partículas
    particlesJS('particles-js', {
      particles: {
        number: { value: 60, density: { enable: true, value_area: 800 } },
        color: { value: "#0077b6" },
        shape: { type: "circle" },
        opacity: { value: 0.5, random: true },
        size: { value: 3, random: true },
        line_linked: {
          enable: true,
          distance: 150,
          color: "#0077b6",
          opacity: 0.4,
          width: 1
        },
        move: {
          enable: true,
          speed: 2,
          direction: "none",
          random: true,
          straight: false,
          out_mode: "out",
          bounce: false
        }
      },
      interactivity: {
        detect_on: "canvas",
        events: {
          onhover: { enable: true, mode: "repulse" },
          onclick: { enable: true, mode: "push" },
          resize: true
        }
      }
    });

    // Iniciar o rádio automaticamente (com mensagem amigável)
    window.onload = function() {
      const radioPlayer = document.getElementById('radioPlayer');
      radioPlayer.volume = 0.7;
      const playPromise = radioPlayer.play();
      if (playPromise !== undefined) {
        playPromise.catch(error => {
          console.log("Reprodução automática prevenida pelo navegador:", error);
          alert("🔊 Para começar a ouvir a Orbis Tech Kids FM, clique no botão VERDE de energia do rádio.");
        });
      }

      // Relógio em tempo real
      updateTime();
      setInterval(updateTime, 1000);

      // Localização + Clima automáticos
      initGeoWeather();
      
      // Atualizar display com informações de tempo
      updateDisplayWithTime();
    };

    // Função para atualizar o display com informações de tempo
    function updateDisplayWithTime() {
      const now = new Date();
      const timeString = now.toLocaleTimeString('pt-BR');
      const displayElement = document.getElementById('radioDisplay');
      
      // Alternar entre o nome da rádio e a hora atual
      if (displayElement.dataset.showingTime) {
        displayElement.textContent = `ORBIS TECH KIDS FM • 24/7 •`;
        displayElement.dataset.showingTime = false;
      } else {
        displayElement.textContent = `🕒 ${timeString} • BRASIL •`;
        displayElement.dataset.showingTime = true;
      }
    }

    // Iniciar a alternância no display
    setInterval(updateDisplayWithTime, 5000);

    // Controles do rádio
    function toggleRadio() {
      const radioPlayer = document.getElementById('radioPlayer');
      const powerBtn = document.getElementById('powerBtn');
      if (radioPlayer.paused) {
        radioPlayer.play();
        powerBtn.innerHTML = '<i class="fas fa-power-off" style="color:#00ff88;"></i>';
        powerBtn.style.boxShadow = '0 0 15px #00ff88';
      } else {
        radioPlayer.pause();
        powerBtn.innerHTML = '<i class="fas fa-power-off"></i>';
        powerBtn.style.boxShadow = '';
      }
    }

    function changeVolume(delta) {
      const radioPlayer = document.getElementById('radioPlayer');
      radioPlayer.volume = Math.max(0, Math.min(1, radioPlayer.volume + delta));
    }

    // Relógio (sempre visível)
    function updateTime() {
      const now = new Date();
      document.getElementById('time').textContent = '🕒 ' + now.toLocaleTimeString('pt-BR');
    }

    // ==== Localização + Clima (OpenWeather) ====
    const OPENWEATHER_API_KEY = ''; // <-- Coloque sua chave API aqui

    function initGeoWeather() {
      if (!OPENWEATHER_API_KEY) {
        // Modo offline - usar dados de exemplo
        document.getElementById('location').textContent = '📍 Xique-Xique, BA';
        document.getElementById('weather').textContent = '⛅ 28°C, Ensolarado';
        return;
      }

      if ('geolocation' in navigator) {
        navigator.geolocation.getCurrentPosition(
          (pos) => {
            const { latitude, longitude } = pos.coords;
            getWeatherByCoords(latitude, longitude);
          },
          (err) => {
            console.warn('Geolocalização negada/erro:', err);
            // Fallback para Xique-Xique
            getWeatherByCity('Xique-Xique,BR');
          },
          { enableHighAccuracy: false, timeout: 8000, maximumAge: 600000 }
        );
      } else {
        // Sem geolocalização: fallback
        getWeatherByCity('Xique-Xique,BR');
      }
    }

    async function getWeatherByCoords(lat, lon) {
      try {
        const url = `https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&appid=${OPENWEATHER_API_KEY}&units=metric&lang=pt_br`;
        const res = await fetch(url);
        
        if (!res.ok) {
          throw new Error(`Erro HTTP: ${res.status}`);
        }
        
        const data = await res.json();
        renderWeather(data);
      } catch (e) {
        console.error('Erro ao buscar clima por coordenadas:', e);
        getWeatherByCity('Xique-Xique,BR');
      }
    }

    async function getWeatherByCity(q) {
      try {
        const url = `https://api.openweathermap.org/data/2.5/weather?q=${encodeURIComponent(q)}&appid=${OPENWEATHER_API_KEY}&units=metric&lang=pt_br`;
        const res = await fetch(url);
        
        if (!res.ok) {
          throw new Error(`Erro HTTP: ${res.status}`);
        }
        
        const data = await res.json();
        renderWeather(data);
      } catch (e) {
        console.error('Erro ao buscar clima por cidade:', e);
        // Modo offline
        document.getElementById('location').textContent = '📍 Xique-Xique, BA';
        document.getElementById('weather').textContent = '⛅ 28°C, Ensolarado';
      }
    }

    function renderWeather(data) {
      if (!data || !data.weather || !data.main) {
        document.getElementById('location').textContent = '📍 Xique-Xique, BA';
        document.getElementById('weather').textContent = '⛅ 28°C, Ensolarado';
        return;
      }
      const city = data.name || 'Sua região';
      const temp = (data.main.temp != null) ? data.main.temp.toFixed(1) + '°C' : '--';
      const desc = (data.weather[0] && data.weather[0].description) ? data.weather[0].description : '—';
      document.getElementById('location').textContent = `📍 ${city}`;
      document.getElementById('weather').textContent = `🌡️ ${temp} | ${desc}`;
    }
    // ==== Fim Localização + Clima ====

    // Função para fazer a página deslizar para baixo
    function ajudarProjeto() {
      document.body.classList.add('slide-down');
      
      // Abrir o modal após a animação
      setTimeout(() => {
        document.body.classList.remove('slide-down');
        abrirModalPix();
      }, 500);
    }

    // Função de acessibilidade melhorada (remove emojis)
    const sintetizador = window.speechSynthesis;
    let lendo = false;

    function lerPagina() {
      const botao = document.getElementById("botaoLeitura");

      if (lendo) {
        sintetizador.cancel();
        lendo = false;
        botao.innerText = "🔊 LER TUDO";
      } else {
        // Obter texto da página e remover emojis
        let texto = document.body.innerText;
        texto = texto.replace(/[\u{1F600}-\u{1F64F}\u{1F300}-\u{1F5FF}\u{1F680}-\u{1F6FF}\u{1F700}-\u{1F77F}\u{1F780}-\u{1F7FF}\u{1F800}-\u{1F8FF}\u{1F900}-\u{1F9FF}\u{1FA00}-\u{1FA6F}\u{1FA70}-\u{1FAFF}\u{2600}-\u{26FF}\u{2700}-\u{27BF}]/gu, '');
        
        const utterance = new SpeechSynthesisUtterance(texto);
        utterance.lang = 'pt-BR';
        utterance.rate = 1;

        utterance.onend = () => {
          lendo = false;
          botao.innerText = "🔊 LER TUDO";
        };

        sintetizador.speak(utterance);
        lendo = true;
        botao.innerText = "🔇 PARAR LEITURA";
      }
    }

    // Funções existentes da aplicação
    function calcularIMC() {
      const peso = parseFloat(document.getElementById('peso').value.replace(',', '.'));
      const altura = parseFloat(document.getElementById('altura').value.replace(',', '.')) / 100;
      if (!peso || !altura) {
        document.getElementById('resultadoIMC').textContent = 'Informe peso e altura válidos.';
        return;
      }
      const imc = peso / (altura * altura);
      let classificacao = '';

      if (imc < 18.5) classificacao = 'Abaixo do peso';
      else if (imc < 25) classificacao = 'Peso normal';
      else if (imc < 30) classificacao = 'Sobrepeso';
      else if (imc < 35) classificacao = 'Obesidade grau 1';
      else if (imc < 40) classificacao = 'Obesidade grau 2';
      else classificacao = 'Obesidade grau 3 (mórbida)';

      document.getElementById('resultadoIMC').textContent = `IMC: ${imc.toFixed(2)} - ${classificacao}`;
    }

    function verificarSigno() {
      const valor = document.getElementById('dataNascimento').value;
      if (!valor) {
        document.getElementById('resultadoSigno').textContent = 'Selecione sua data de nascimento.';
        return;
      }
      const data = new Date(valor);
      const dia = data.getDate() + 1;
      const mes = data.getMonth() + 1;

      let signo = '';
      if ((mes == 3 && dia >= 21) || (mes == 4 && dia <= 19)) signo = 'Áries';
      else if ((mes == 4 && dia >= 20) || (mes == 5 && dia <= 20)) signo = 'Touro';
      else if ((mes == 5 && dia >= 21) || (mes == 6 && dia <= 20)) signo = 'Gêmeos';
      else if ((mes == 6 && dia >= 21) || (mes == 7 && dia <= 22)) signo = 'Câncer';
      else if ((mes == 7 && dia >= 23) || (mes == 8 && dia <= 22)) signo = 'Leão';
      else if ((mes == 8 && dia >= 23) || (mes == 9 && dia <= 22)) signo = 'Virgem';
      else if ((mes == 9 && dia >= 23) || (mes == 10 && dia <= 22)) signo = 'Libra';
      else if ((mes == 10 && dia >= 23) || (mes == 11 && dia <= 21)) signo = 'Escorpião';
      else if ((mes == 11 && dia >= 22) || (mes == 12 && dia <= 21)) signo = 'Sagitário';
      else if ((mes == 12 && dia >= 22) || (mes == 1 && dia <= 19)) signo = 'Capricórnio';
      else if ((mes == 1 && dia >= 20) || (mes == 2 && dia <= 18)) signo = 'Aquário';
      else if ((mes == 2 && dia >= 19) || (mes == 3 && dia <= 20)) signo = 'Peixes';

      document.getElementById('resultadoSigno').textContent = `Seu signo é: ${signo}`;
    }

    function abrirModalBiografia() {
      document.getElementById('modalBiografia').style.display = "block";
    }

    function abrirModalPix() {
      document.getElementById('modalPix').style.display = "block";
    }

    function fecharModal(id) {
      document.getElementById(id).style.display = "none";
    }

    // Fechar modal ao clicar fora do conteúdo
    window.onclick = function(event) {
      const modais = document.getElementsByClassName('modal');
      for (let i = 0; i < modais.length; i++) {
        if (event.target === modais[i]) {
          modais[i].style.display = "none";
        }
      }
    }
  </script>
</body>
</html>
